!function(e,t){"undefined"!=typeof module?module.exports=t():"function"==typeof define&&"object"==typeof define.amd?define(t):this.domready=t()}(0,function(){var e,t=[],n="object"==typeof document&&document,i=n&&n.documentElement.doScroll,o="DOMContentLoaded",d=n&&(i?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return!d&&n&&n.addEventListener(o,e=function(){for(n.removeEventListener(o,e),d=1;e=t.shift();)e()}),function(e){d?setTimeout(e,0):t.push(e)}}),function(e){function n(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}var i,o,d;d="classList"in document.documentElement?(i=function(e,t){return e.classList.contains(t)},o=function(e,t){e.classList.add(t)},function(e,t){e.classList.remove(t)}):(i=function(e,t){return n(t).test(e.className)},o=function(e,t){i(e,t)||(e.className=e.className+" "+t)},function(e,t){e.className=e.className.replace(n(t)," ")});var t={has:i,add:o,remove:d,toggle:function(e,t){(i(e,t)?d:o)(e,t)}};"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t:e.classie=t}(window);var onw3d=null,Onw3dvw=function(e){this.model=e;var n,o=this,d=classie,l=(window,document),t=l.documentElement,i=l.getElementsByTagName("head")[0],a=[],c=!1,r=!1,s="https://boathouse.ua/index.php?route=";function u(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){try{var e=JSON.parse(n.responseText)}catch(e){return}t(e)}},n.open("GET",e,!0),n.send()}this.hideAll=function(){d.has(t,"onw3d_root")&&d.remove(t,"onw3d_root"),a.forEach(function(e,t,n){e.style.display="none"})},this.showAll=function(){!d.has(t,"onw3d_root")&&d.add(t,"onw3d_root"),a.forEach(function(e,t,n){e.style.display="block"})},this.setPreloader=function(e,t){n.style.display=e?"block":"none",t||(t="")},this.toggleColorBtn=function(e){A.classList="",d.add(A,e)};var m=l.createElement("link");m.href="assets/css/style.css",m.type="text/css",m.rel="stylesheet",i.appendChild(m);var f=l.createElement("iframe");f.setAttribute("id","onw3d_viewer"),a.push(f);var p=l.createElement("div");p.setAttribute("id","ctrl"),a.push(p);var h=l.createElement("div");h.setAttribute("id","ctrl_wrap"),p.appendChild(h);var v=l.createElement("div");d.add(v,"onw3d_cont"),h.appendChild(v);var E=l.createElement("div");E.setAttribute("id","c-btn"),p.appendChild(E);var w=l.createElement("div");w.setAttribute("id","c-btn2"),p.appendChild(w);var b=l.createElement("div");b.setAttribute("id","c-btn3"),p.appendChild(b);var y=l.createElement("div");y.setAttribute("id","c-btn4"),p.appendChild(y);var g=l.createElement("div");g.setAttribute("id","c-btn5"),p.appendChild(g);var _=l.createElement("div");_.setAttribute("id","c-btn6"),p.appendChild(_);var A=l.createElement("div");A.setAttribute("id","c-btn7"),p.appendChild(A);var L=l.createElement("div");L.setAttribute("id","ctrl_test"),p.appendChild(L),E.addEventListener("click",function(e){d.toggle(p,"active"),d.remove(L,"open"),d.remove(w,"open")}),w.addEventListener("click",function(e){d.toggle(this,"open"),d.toggle(L,"open"),r||u(s+"get_json_data",function(e){L.innerHTML="<h2>КАТАЛОГ ПРОДУКЦИИ</h2>";for(var t=L.scrollTop=0;t<e.length;t++){var n=l.createElement("div");n.innerHTML="<h3>"+e[t].name+"</h3><p>"+e[t].description+"</p>",n.setAttribute("data-id",e[t].id),d.add(n,"onw3d_category_item"),n.addEventListener("click",function(e){var t=this.getAttribute("data-id"),i=this.querySelector("h3").innerText;c||u(s+"get_json_data&cid="+t,function(e){L.innerHTML="<h2>"+i+"</h2>",r=!1;for(var t=L.scrollTop=0;t<e.length;t++){var n=l.createElement("div");n.innerHTML="<h3>"+e[t].name+'</h3><p class="elipsis">'+e[t].description+"</p>",n.setAttribute("data-id",e[t].id),n.setAttribute("data-model",e[t].zcode),d.add(n,"onw3d_category_item"),n.addEventListener("click",function(e){o.model=this.getAttribute("data-model"),o.model&&""!=o.model&&(_w.init(),d.remove(L,"open"),d.remove(w,"open"),u(s+"get_json_data&pname="+o.model,function(e){v.innerHTML='<h2 style="float:left">'+e.name+"</h2>",d.add(v,"onw3d_cont"),h.appendChild(v)}))}),L.appendChild(n)}c=!1})}),L.appendChild(n)}r=!0})}),b.addEventListener("click",function(e){_w.toggleCameraRotate()}),y.addEventListener("click",function(e){d.toggle(this,"exitfs"),l.fullscreenElement||l.mozFullScreenElement||l.webkitFullscreenElement||l.msFullscreenElement?l.exitFullscreen?l.exitFullscreen():l.msExitFullscreen?l.msExitFullscreen():l.mozCancelFullScreen?l.mozCancelFullScreen():l.webkitExitFullscreen&&l.webkitExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}),g.addEventListener("click",function(e){_w.setEnv()}),_.addEventListener("click",function(e){_w.takeScreenshot()}),A.addEventListener("click",function(e){_w.toggleBaseColor(!0)});var C=l.createElement("div");function k(){_w=f.contentWindow,n=_w.document.getElementById("info"),[].slice.call(l.querySelectorAll(".onw3d_btn")).forEach(function(t){t&&(t.onclick=function(e){e.preventDefault(),o.showAll(),o.model=t.getAttribute("data-model")||"404",o.model&&""!=o.model&&u(s+"get_json_data&pname="+o.model,function(e){v.innerHTML='<h2 style="float:left">'+e.name+"</h2>"}),o.model&&""!=o.model&&_w.init()})})}C.setAttribute("id","onw3d_close"),a.push(C),C.addEventListener("click",function(e){d.remove(p,"active"),d.remove(L,"open"),o.hideAll(),_w.clear()}),this.hideAll(),a.forEach(function(e,t,n){l.body.appendChild(e)}),f.setAttribute("src","viewer.html"),f.readyState?f.onreadystatechange=function(){("loaded"==f.readyState||"complete"==f.readyState)&&(f.onreadystatechange=null,k())}:f.onload=function(){k()}};domready(function(){onw3d=new Onw3dvw});